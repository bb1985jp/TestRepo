<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">

<head>

<meta http-equiv="Content-Style-Type" content="text/css; charset=Shift-JIS">
<link rel="stylesheet" href="java.css" type="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
<meta content="Java,Swing,Tips,JTable, Tool Tip" name="keywords">

<title>Java Swing サンプル集</title>
</head>

<body>
<table class="table_1" align="center" summary="Swing,Look and Feel">
<tbody>
<tr>
<td class="table_1">
<table summary="outline">
<tbody>
<tr>
<td class="title_site">
Java Swing サンプル集
</td>
</tr>
<tr>
<td valign="top" align="center">
<hr>
</td>
</tr>
<tr>
<td>
<a href="index.html">Top Page</a>                                     
<br>                                     
</td>                                     
</tr>                                     
<tr>                                     
<td class="title_page">                                     
<img border="0" src="images/glass_icon2.gif" width="16" height="16" alt="*">                                     
 JTable セル単位でのToolTip<br>                                   
<img border="0" src="images/ber91.gif" class="title_page_line" alt="-" width="432" height="15">                                   
</td>                                   
</tr>                                   
<tr>                                   
<td class="title_section">                                   
<div class="space">                                   
<img src="images/threesquare_icon002.gif" width="12" height="10" alt="･">説明<br>                                   
                                   
<img src="images/ber005.gif" class="section_line" alt="-" width="150" height="5"> 
</div>                                   
</td>                                   
</tr>                                   
<tr>                                   
<td>                                   
                                   
<table summary="description">                                   
<tbody>                                   
<tr>                                   
<td class="column_left">                                   
                                   
<p>                                   
JTableにToolTipを設定すると、通常はセル単位ではなくJTable内どの位置にマウスポインタが存在しても同じ内容が表示されます。                      
</p>                      
これをセル単位で表示を変えるためには、                      
<ul>                             
<li>JTableのメソッドgetToolTipText()をオーバーライドする。</li>                           
<li>同メソッドのMouseEventパラメータから、マウス上のセルの行、桁を取得する。</li>                                 
<li>行、桁からセルに設定されている文字列を取得し、返す。</li>                             
</ul>                      
という処理を行います。                     
<div class="space_both">                                    
<img border="0" src="app/images/jtable_tool_tip.jpg" alt="app" width="300" height="200">                                  
</div>                                          
<div class="space_both">                                    
<img border="0" src="app/images/jtable_tool_tip_2.jpg" width="300" height="200">                                 
</div>          
</td>                                  
<td class="column_right">                                  
                                  
<!-- ///// Amazon ///// -->                                  
                                  
<iframe src="http://rcm-jp.amazon.co.jp/e/cm?t=bb1985-22&o=9&p=10&l=st1&mode=books-jp&search=Java%20Swing%20GUI&fc1=000000&lt1=&lc1=3366FF&bg1=FFFFFF&f=ifr" marginwidth="0" marginheight="0" width="120" height="450" border="0" frameborder="0" style="border:none;" scrolling="no"></iframe>                                  
                                  
<!-- ///// Amazon ///// -->                                  
                                  
</td>                                  
</tr>                                  
</tbody>                                  
</table>                                  
</td>                                  
</tr>                                  
<tr>                                  
<td>                                  
<div class="space">                                 
サンプルソース : <a href="src/src_jtable_tool_tip.zip">src_jtable_tool_tip.zip</a>                                   
</div>                                   
<div class="space_both">                                   
サンプルアプリ : <a href="app/sample_jtable_tool_tip.jar">sample_jtable_tool_tip.jar</a>                                    
</div>                                    
</td>                                    
</tr>                                    
<tr>                                    
<td class="title_section">                                    
<div class="space">                                    
<img src="images/threesquare_icon002.gif" width="12" height="10" alt="･">コード例<br>                                    
                                    
<img src="images/ber005.gif" class="section_line" alt="-" width="150" height="5"> 
</div>                                    
</td>                                    
</tr>                                    
<tr>                                    
<td>                                    
<br>                                    
<table class="table_code" summary="code">                                    
  <tbody>                                    
  <tr>                                    
    <td>                                    
    <pre>    jTable = new JTable(dm){
        // getToolTipText()をオーバーライド
        public String getToolTipText(MouseEvent e){
            // イベントからマウス位置を取得し、テーブル内のセルを割り出す
            return (String)getModel().getValueAt(
                    rowAtPoint(e.getPoint()), 
                    columnAtPoint(e.getPoint()));
        }
    };</pre>                                    
    </td>                                    
  </tr>                                    
  </tbody>                                    
</table>                                    
</td>                                    
</tr>                                    
                                    
<tr>                                    
<td>                                    
<div class="space_both">                   
なおEclipseのVisualEditor（注）を使用している場合、上記コードでは                   
<p>                   
<code>Cannot process anonymous declarations.</code>                   
</p>                   
というエラーがUIエディタに発生し、テーブル内容が表示不能となります。<br>                   
これを回避するためには、JTableを継承した独自のテーブルクラスを定義し、その中でgetToolTipText()をオーバーライドするようにすればエラーは発生しなくなるようです。                   
</div>                   
注）1.2、1.4で確認。他のバージョンでは未確認。                 
<div class="space_both">                  
<img border="0" src="app/images/jtable_tool_tip_error.jpg" alt="app" width="270" height="179">                 
</div>                 
</td>                                  
</tr>                                  
                                  
<tr>                                  
<td>                                  
<br>                                  
                                  
</td>                                  
</tr>                             
</tbody>                             
</table>                                  
<br>    
<!-- Java Swing Tips Sample GUI サンプル -->                         
<!-- ///// Google ///// -->                                
<script type="text/javascript"><!--         
google_ad_client = "pub-4667966388895726";         
/* 728x90, 作成済み 09/01/26 */         
google_ad_slot = "1570626113";         
google_ad_width = 728;         
google_ad_height = 90;         
google_language = 'ja';         
//-->         
</script>         
<script type="text/javascript"         
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">         
</script>         
<!-- ///// Google ///// -->                                
</td>        
</tr>        
</tbody>        
</table>        
</body>                                  
                                  
</html>                                  
